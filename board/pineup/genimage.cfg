# Configuration file automatically generated by post-image Buildroot script,
# that provides the boot.vfat image
include ("boot.cfg")

image sdcard.img {
	hdimage {}

	# Secondary program loader
	# (first-stage bootloader, initializes SDRAM)
	partition spl {
		in-partition-table = "no"
		image = "sunxi-spl.bin"

		# The Allwinner H6 boot ROM looks for a signature that signals
		# a SPL at this offset. See: https://linux-sunxi.org/BROM
		offset = 8192
	}

	# U-Boot proper
	# (second-stage bootloader)
	partition u-boot {
		in-partition-table = "no"
		image = "u-boot.itb"

		offset = 40K
		size = 984K
	}

	# Boot partition, for the kernel image,
	# DTBs and bootloader configuration
	partition boot {
		partition-type = 0xC
		bootable = "true"
		image = "boot.vfat"

		offset = 1M
	}

	# The read-only root filesystem
	partition rootfs {
		partition-type = 0x83
		image = "rootfs.squashfs"
	}
}
